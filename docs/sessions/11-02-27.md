can n8n be connected to supabase
Yes, n8n can be connected to Supabase! There are several ways to integrate n8n with Supabase:
Integration Methods
HTTP Request Node: You can use n8n's HTTP Request node to interact with Supabase's REST API. This allows you to:
Query data from your Supabase tables
Insert, update, or delete records
Call Supabase Edge Functions
Authenticate using API keys
PostgreSQL Node: Since Supabase is built on PostgreSQL, you can use n8n's PostgreSQL node to connect directly to your Supabase database:
Execute SQL queries
Perform CRUD operations
Access database functions and views
Webhook Integration: You can set up Supabase Database Webhooks to trigger n8n workflows when specific database events occur (INSERT, UPDATE, DELETE).
Connection Setup
Using HTTP Request Node:
Authentication: Use your Supabase project's API key (anon or service_role key)
Base URL: https://your-project.supabase.co/rest/v1/
Headers: Include apikey and Authorization headers
Using PostgreSQL Node:
Host: Your Supabase database host (found in project settings)
Port: 5432
Database: postgres
User: postgres
Password: Your database password
Enable SSL connection
Would you like me to help you set up a specific integration between n8n and Supabase, or do you have a particular use case in mind?
i mean n8n needs a main database for self hosting yes? i need my companies intenral n8n live asap, and licensing is free as long as we are whitelabeling it which i dont plan to so yeh how do i set this up with my own supabse until i have my own server and database
Yes, you're right! n8n needs a database for self-hosting to store workflows, credentials, execution history, and user data. You can absolutely use Supabase as your n8n database since it's PostgreSQL-based.
Quick Setup Guide
1. Get Supabase Connection Details
From your Supabase project dashboard:
Go to Project Settings > Database
Note down:
Host: db.xxx.supabase.co
Port: 5432
Database: postgres
User: postgres
Password: Your database password
Connection pooling settings if needed
2. Configure n8n Environment Variables
Set these environment variables when starting n8n:
# Database configuration
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=db.xxx.supabase.co
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=postgres
DB_POSTGRESDB_USER=postgres
DB_POSTGRESDB_PASSWORD=your_password_here
DB_POSTGRESDB_SSL_ENABLED=true
DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED=false

# Basic n8n configuration
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=your_username
N8N_BASIC_AUTH_PASSWORD=your_password
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=https
WEBHOOK_URL=https://your-domain.com/
3. Deployment Options
Option A: Docker (Recommended)
docker run -it --rm \
  --name n8n \
  -p 5678:5678 \
  -e DB_TYPE=postgresdb \
  -e DB_POSTGRESDB_HOST=db.xxx.supabase.co \
  -e DB_POSTGRESDB_PORT=5432 \
  -e DB_POSTGRESDB_DATABASE=postgres \
  -e DB_POSTGRESDB_USER=postgres \
  -e DB_POSTGRESDB_PASSWORD=your_password \
  -e DB_POSTGRESDB_SSL_ENABLED=true \
  -e DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED=false \
  -e N8N_BASIC_AUTH_ACTIVE=true \
  -e N8N_BASIC_AUTH_USER=admin \
  -e N8N_BASIC_AUTH_PASSWORD=your_admin_password \
  n8nio/n8n
Option B: Docker Compose
version: '3.8'

services:
  n8n:
    image: n8nio/n8n
    restart: always
    ports:
      - "5678:5678"
    environment:
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_HOST=db.xxx.supabase.co
      - DB_POSTGRESDB_PORT=5432
      - DB_POSTGRESDB_DATABASE=postgres
      - DB_POSTGRESDB_USER=postgres
      - DB_POSTGRESDB_PASSWORD=your_password
      - DB_POSTGRESDB_SSL_ENABLED=true
      - DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED=false
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=your_admin_password
    volumes:
      - n8n_data:/home/node/.n8n

volumes:
  n8n_data:
4. Important Notes
SSL is required for Supabase connections
Free tier limits: Supabase free tier has connection limits (~60 concurrent connections). For production, consider upgrading or connection pooling
Licensing: You're correct - n8n is free for self-hosting without white-labeling. The fair-code license allows this
Migration path: When you get your own server, you can migrate by dumping the PostgreSQL database and restoring it to your new instance
5. First Run
On first startup, n8n will automatically create the necessary database tables in your Supabase database. Just make sure your Supabase project allows connections from your n8n host. Would you like help with any specific deployment method or configuration?
yeah so i want to link my n8n to an existing project, so i will 1 need to ensure those will be able to cross, im hosting this on railway right now, i want to be able to send data to and from my n8n and other apps ill be building using the same internal database with different schemas and layers cross connection etc. ad then eventually ill migrate to self hosting all of this.
Perfect! This is totally doable. Here's how to set up n8n on Railway with your existing Supabase project while keeping n8n's tables separate from your application data:
Strategy: Use PostgreSQL Schemas for Separation
PostgreSQL supports schemas (namespaces), so you can have:
public schema - Your application data
n8n schema - n8n's internal tables
Any other schemas for different services
This keeps everything in one database but logically separated.
Setup Steps
1. Create n8n Schema in Supabase
First, let's create a dedicated schema for n8n in your Supabase database:
-- Run this in your Supabase SQL Editor
CREATE SCHEMA IF NOT EXISTS n8n;

-- Grant permissions to the postgres user
GRANT ALL ON SCHEMA n8n TO postgres;
GRANT ALL ON ALL TABLES IN SCHEMA n8n TO postgres;
ALTER DEFAULT PRIVILEGES IN SCHEMA n8n GRANT ALL ON TABLES TO postgres;
2. Railway Configuration
In your Railway project, add these environment variables:
# Database Configuration (with schema)
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=db.xxx.supabase.co
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=postgres
DB_POSTGRESDB_USER=postgres
DB_POSTGRESDB_PASSWORD=your_supabase_db_password
DB_POSTGRESDB_SCHEMA=n8n
DB_POSTGRESDB_SSL_ENABLED=true
DB_POSTGRESDB_SSL_REJECT_UNAUTHORIZED=false

# n8n Configuration
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=https
WEBHOOK_URL=https://your-railway-app.up.railway.app/

# Authentication (change these!)
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your_secure_password

# Optional but recommended
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168
N8N_METRICS=true
3. Railway Deployment
Option A: Using Railway's Docker Deploy Create a Dockerfile in your n8n project:
FROM n8nio/n8n:latest

# Railway will automatically inject environment variables
CMD ["n8n"]
Option B: Using Railway Template Railway has an n8n template you can use, but you'll need to modify the database settings to point to your Supabase instead of creating a new PostgreSQL instance.
4. Network Access
Make sure Railway can access Supabase:
Supabase side:
Go to Project Settings > Database > Connection Pooling
Note the connection details
Supabase allows connections from anywhere by default, but verify in Settings > Database > Network Restrictions
Railway side:
Railway's outbound connections should work by default
If you need to whitelist Railway's IPs, check Railway's documentation
5. Cross-Database Communication Setup
Now for the exciting part - connecting your n8n workflows to your application data: In n8n, you can access your application data using:
A. PostgreSQL Node (Direct Database Access)
Create a credential in n8n:
Type: PostgreSQL
Host: db.xxx.supabase.co
Database: postgres
User: postgres (or create a separate user)
Password: Your password
SSL: Enabled
Schema: public (or your custom schema)
Then use PostgreSQL nodes in workflows to query your app data:
SELECT * FROM public.your_app_table WHERE condition = 'value';
B. HTTP Request Node (Supabase REST API)
For more secure access, use Supabase's REST API:
URL: https://your-project.supabase.co/rest/v1/your_table
Headers:
apikey: your_supabase_anon_or_service_key
Authorization: Bearer your_supabase_anon_or_service_key
C. Webhook Trigger (App → n8n)
Set up webhooks in n8n to receive data from your apps:
Create a Webhook node in n8n
Get the webhook URL
Call it from your application when events happen
6. Best Practices for Your Setup
Create a separate database user for app access:
-- In Supabase SQL Editor
CREATE USER n8n_app_reader WITH PASSWORD 'secure_password';
GRANT USAGE ON SCHEMA public TO n8n_app_reader;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO n8n_app_reader;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO n8n_app_reader;
Connection Pooling: Since you're on Supabase free tier, use connection pooling mode:
DB_POSTGRESDB_HOST=aws-0-us-east-1.pooler.supabase.com  # Use pooler endpoint
DB_POSTGRESDB_PORT=6543  # Pooler port (not 5432)
7. Example Workflow: App Data Integration
Here's a simple workflow to get you started:
Trigger: Webhook (receives data from your app)
Process: Function node (transform data)
Store: PostgreSQL node (write to public.your_table)
Notify: HTTP Request (call your app's API)
8. Migration Path to Self-Hosting
When you're ready to migrate:
# Export from Supabase
pg_dump -h db.xxx.supabase.co -U postgres -n n8n -n public > backup.sql

# Import to your own PostgreSQL
psql -h your-server.com -U postgres your_db < backup.sql
Quick Start Checklist
 Create n8n schema in Supabase
 Set up Railway project with n8n
 Configure environment variables (especially DB_POSTGRESDB_SCHEMA=n8n)
 Deploy and verify n8n starts (check it creates tables in n8n schema)
 Create PostgreSQL credentials in n8n for accessing public schema
 Test a simple workflow that reads from your app tables
 Set up webhooks for app → n8n communication
Would you like me to help you with any specific part of this setup, or do you want me to create a sample workflow that demonstrates the cross-database communication?
