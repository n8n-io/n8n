
> @n8n/n8n-nodes-langchain@1.121.0 typecheck /Users/ben/Projects/n8n/fix-gemini-3-thought-signature/packages/@n8n/nodes-langchain
> tsc --noEmit

nodes/agents/Agent/test/ToolsAgent/commons.test.ts(228,11): error TS2352: Conversion of type 'string | ContentBlock | Text | undefined' to type '{ input: unknown; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'input' is missing in type 'Text' but required in type '{ input: unknown; }'.
nodes/agents/Agent/test/ToolsAgent/commons.test.ts(229,11): error TS2352: Conversion of type 'string | ContentBlock | Text | undefined' to type '{ input: unknown; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'input' is missing in type 'Text' but required in type '{ input: unknown; }'.
nodes/agents/OpenAiAssistant/OpenAiAssistant.node.ts(355,57): error TS2322: Type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/client").OpenAI' is not assignable to type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/client").OpenAI'.
  Property '#private' in type 'OpenAI' refers to a different member that cannot be accessed from within type 'OpenAI'.
nodes/agents/OpenAiAssistant/OpenAiAssistant.node.ts(367,7): error TS2322: Type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/client").OpenAI' is not assignable to type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/client").OpenAI'.
  Property '#private' in type 'OpenAI' refers to a different member that cannot be accessed from within type 'OpenAI'.
nodes/embeddings/EmbeddingsOpenAI/EmbeddingsOpenAi.node.ts(265,4): error TS2322: Type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/client").ClientOptions' is not assignable to type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/client").ClientOptions'.
  Types of property 'defaultHeaders' are incompatible.
    Type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/internal/headers").HeadersLike' is not assignable to type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/internal/headers").HeadersLike'.
      Type 'NullableHeaders' is not assignable to type 'HeadersLike'.
        Property '[brand_privateNullableHeaders]' is missing in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/internal/headers").NullableHeaders' but required in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/internal/headers").NullableHeaders'.
nodes/Guardrails/helpers/model.ts(109,65): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string'.
nodes/Guardrails/test/helpers/model.test.ts(104,27): error TS2307: Cannot find module 'langchain/agents' or its corresponding type declarations.
nodes/Guardrails/test/helpers/model.test.ts(131,27): error TS2307: Cannot find module 'langchain/agents' or its corresponding type declarations.
nodes/memory/MemoryMongoDbChat/MemoryMongoDbChat.node.ts(139,5): error TS2741: Property 'db' is missing in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/mongodb@6.11.0_@aws-sdk+credential-providers@3.808.0_gcp-metadata@5.3.0_socks@2.8.3/node_modules/mongodb/mongodb").Collection<import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/bson@6.10.0/node_modules/bs...' but required in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/mongodb@6.21.0_@aws-sdk+credential-providers@3.808.0_gcp-metadata@5.3.0_socks@2.8.3/node_modules/mongodb/mongodb").Collection<import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/bson@6.10.4/node_modules/bs...'.
nodes/trigger/ChatTrigger/Chat.node.ts(294,30): error TS2551: Property 'addAIChatMessage' does not exist on type 'BaseChatMessageHistory'. Did you mean 'addAIMessage'?
nodes/vector_store/VectorStoreMongoDBAtlas/VectorStoreMongoDBAtlas.node.ts(357,6): error TS2741: Property 'db' is missing in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/mongodb@6.11.0_@aws-sdk+credential-providers@3.808.0_gcp-metadata@5.3.0_socks@2.8.3/node_modules/mongodb/mongodb").Collection<import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/bson@6.10.0/node_modules/bs...' but required in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/mongodb@6.21.0_@aws-sdk+credential-providers@3.808.0_gcp-metadata@5.3.0_socks@2.8.3/node_modules/mongodb/mongodb").Collection<import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/bson@6.10.4/node_modules/bs...'.
nodes/vector_store/VectorStoreMongoDBAtlas/VectorStoreMongoDBAtlas.node.ts(391,5): error TS2741: Property 'db' is missing in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/mongodb@6.11.0_@aws-sdk+credential-providers@3.808.0_gcp-metadata@5.3.0_socks@2.8.3/node_modules/mongodb/mongodb").Collection<import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/bson@6.10.0/node_modules/bs...' but required in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/mongodb@6.21.0_@aws-sdk+credential-providers@3.808.0_gcp-metadata@5.3.0_socks@2.8.3/node_modules/mongodb/mongodb").Collection<import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/bson@6.10.4/node_modules/bs...'.
nodes/vector_store/VectorStoreQdrant/VectorStoreQdrant.node.ts(137,4): error TS2741: Property 'updateCollectionCluster' is missing in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/@qdrant+js-client-rest@1.14.1_typescript@5.9.2/node_modules/@qdrant/js-client-rest/dist/types/qdrant-client").QdrantClient' but required in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/@qdrant+js-client-rest@1.16.0_typescript@5.9.2/node_modules/@qdrant/js-client-rest/dist/types/qdrant-client").QdrantClient'.
nodes/vector_store/VectorStoreQdrant/VectorStoreQdrant.node.ts(170,4): error TS2741: Property 'updateCollectionCluster' is missing in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/@qdrant+js-client-rest@1.14.1_typescript@5.9.2/node_modules/@qdrant/js-client-rest/dist/types/qdrant-client").QdrantClient' but required in type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/@qdrant+js-client-rest@1.16.0_typescript@5.9.2/node_modules/@qdrant/js-client-rest/dist/types/qdrant-client").QdrantClient'.
nodes/vendors/OpenAi/v1/actions/assistant/message.operation.ts(193,59): error TS2322: Type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/client").OpenAI' is not assignable to type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/client").OpenAI'.
  Property '#private' in type 'OpenAI' refers to a different member that cannot be accessed from within type 'OpenAI'.
nodes/vendors/OpenAi/v2/actions/text/response.operation.ts(651,38): error TS2345: Argument of type 'ResponseOutputItem[]' is not assignable to parameter of type 'ResponseInputItem[]'.
  Type 'ResponseOutputItem' is not assignable to type 'ResponseInputItem'.
    Type 'ResponseComputerToolCall' is not assignable to type 'ResponseInputItem'.
      Type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/resources/responses/responses").ResponseComputerToolCall' is not assignable to type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/resources/responses/responses").ResponseComputerToolCall'.
        Types of property 'pending_safety_checks' are incompatible.
          Type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/resources/responses/responses").ResponseComputerToolCall.PendingSafetyCheck[]' is not assignable to type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/resources/responses/responses").ResponseComputerToolCall.PendingSafetyCheck[]'.
            Type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@6.9.1_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/resources/responses/responses").ResponseComputerToolCall.PendingSafetyCheck' is not assignable to type 'import("/Users/ben/Projects/n8n/fix-gemini-3-thought-signature/node_modules/.pnpm/openai@5.12.2_ws@8.18.3_bufferutil@4.0.9_utf-8-validate@5.0.10__zod@3.25.67/node_modules/openai/resources/responses/responses").ResponseComputerToolCall.PendingSafetyCheck'.
              Types of property 'code' are incompatible.
                Type 'string | null | undefined' is not assignable to type 'string'.
                  Type 'undefined' is not assignable to type 'string'.
utils/agent-execution/buildSteps.ts(49,51): error TS2339: Property 'thoughtSignature' does not exist on type 'RequestResponseMetadata'.
utils/agent-execution/buildSteps.ts(63,45): error TS2345: Argument of type '{ content: string; tool_calls: { id: string; name: string; args: IDataObject; type: string; additional_kwargs: { thought_signature?: string | undefined; }; }[]; }' is not assignable to parameter of type 'string | (ContentBlock | Text)[] | AIMessageFields<MessageStructure>'.
  Types of property 'tool_calls' are incompatible.
    Type '{ id: string; name: string; args: IDataObject; type: string; additional_kwargs: { thought_signature?: string | undefined; }; }[]' is not assignable to type 'ToolCall<string, Record<string, any>>[]'.
      Type '{ id: string; name: string; args: IDataObject; type: string; additional_kwargs: { thought_signature?: string | undefined; }; }' is not assignable to type 'ToolCall<string, Record<string, any>>'.
        Types of property 'type' are incompatible.
          Type 'string' is not assignable to type '"tool_call"'.
utils/agent-execution/processEventStream.ts(4,1): error TS6133: 'BaseChatMemory' is declared but its value is never read.
utils/logWrapper.ts(238,8): error TS2322: Type 'unknown' is not assignable to type '(...args: any[]) => Promise<unknown>'.
 ELIFECYCLE  Command failed with exit code 1.
