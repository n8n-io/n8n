{
	"meta": {
		"instanceId": "806e76bc68769277cc91003cf60c5af8793416e570a07db359be1a94e4c0b217"
	},
	"nodes": [
		{
			"id": "a7749bc5-b86d-46da-ba17-cf5100b9e4d9",
			"name": "Sticky Note",
			"type": "n8n-nodes-base.stickyNote",
			"position": [-112, -48],
			"parameters": {
				"color": 4,
				"width": 448,
				"height": 1536,
				"content": "## Data Source\nThese nodes extract structured data directly from your data source (e.g., MySQL, Google Sheets, Excel/CSV).\n\nSimply connect the data source nodes you need and disconnect any unused nodes.\n\n**You must select one - and only one - data source node. Disconnect any additional data source nodes. You can also replace these nodes with any other data sources**\n\nAs long as the generated data matches the structured format required by the subsequent steps.\n\n## Sample Data\nA node is provided here that randomly generates one thousand data entries each time.\n\nThis dataset is a collection of simulated sales order records. Each record contains the following fields:\n\norder_date: The date when the order was placed.\nproduct_category: The category of the product sold, such as \"Electronics,\" \"Clothing & Fashion,\" \"Home & Furniture,\" \"Food & Beverages,\" \"Sports & Outdoors,\" or \"Beauty & Personal Care.\"\nregion: The sales region, which can include \"North America,\" \"South America,\" \"Europe,\" \"Asia,\" \"Africa,\" \"Oceania,\" \"Middle East,\" or \"Central Asia.\"\nsales_amount: The total sales amount for the order.\nThis type of data is typically used for analyzing sales performance across different time periods, product categories, and regions. In n8n, such data is usually structured as an array of objects, making it suitable for further processing, analysis, and automation workflows."
			},
			"typeVersion": 1
		},
		{
			"id": "0c0e3b3f-eca7-45df-88e6-d78e75a74348",
			"name": "Sticky Note1",
			"type": "n8n-nodes-base.stickyNote",
			"position": [528, 304],
			"parameters": {
				"color": 4,
				"width": 656,
				"height": 976,
				"content": "## Select the skills you need\nConnect the skill nodes you require\n\nYou need to apply for an API key according to the instructions, configure credentials, and set up Authentication in the DataAnalysis, DataInterpretation, and DataVisualization nodes.\n\n### Input parameters\ninput_json: Data from previous nodes\nquery: Query statement, you can set a fixed query according to your needs or use LLM to generate the query\n\n### Output\nThe output of DataAnalysis and DataInterpretation nodes will include markdown text, while the output of DataVisualization nodes will include HTML code."
			},
			"typeVersion": 1
		},
		{
			"id": "49e02f24-acad-4bbc-8b5e-8c5b9f6e2c96",
			"name": "Sticky Note2",
			"type": "n8n-nodes-base.stickyNote",
			"position": [1360, 432],
			"parameters": {
				"color": 4,
				"width": 336,
				"height": 848,
				"content": "## Output\n\nHere we use sending email as an example; you can choose the method that suits your needs."
			},
			"typeVersion": 1
		},
		{
			"id": "8b01f685-f709-4d96-ad1a-3284b59911bb",
			"name": "Sticky Note3",
			"type": "n8n-nodes-base.stickyNote",
			"position": [-3552, 304],
			"parameters": {
				"color": 7,
				"width": 3088,
				"height": 4672,
				"content": "## Overview\nThis template empowers low-code data analysis using natural language. Simply connect to your data sources (e.g., MySQL, Google Sheets),\nand it automates the entire workflow—from data querying and processing to interpretation and visualization. For instance,\nit can professionally analyze, interpret, and visualize weekly sales data and have the report delivered directly to your inbox.\n\nThis template is supported by [ada.im](https://ada.im/home?ada_data_=&utm_source=n8n&utm_medium=landingpage&utm_infeluncer=landingpage&utm_campain=landingpage&utm_content=landingpage)\n## Here are some example results:\n\n### DataVisualization\nquery: Use a pie chart to display the sales of each product in 2024, and a line chart to represent the total monthly sales of each product in 2024. Additionally, you can add some extra charts based on the data.\nresult: \n![result2.png](https://d1551jsgrpwivo.cloudfront.net/result2.png)\n![result3.png](https://d1551jsgrpwivo.cloudfront.net/result3.png)\n\n### DataInterpretation\nquery: Sales volume of each product in 2024\nresult: \n![result4.png](https://d1551jsgrpwivo.cloudfront.net/result4.png)\n![result5.png](https://d1551jsgrpwivo.cloudfront.net/result5.png)\n\n### DataAnalysis\nquery: What are the top three products in terms of sales in 2024? Analyze the gap between the top three products and the others from a statistical perspective.\nresult: \n![result6.png](https://d1551jsgrpwivo.cloudfront.net/result6.png)"
			},
			"typeVersion": 1
		},
		{
			"id": "31dd7694-9b33-449b-a868-ad7eb0ee39bf",
			"name": "Sticky Note4",
			"type": "n8n-nodes-base.stickyNote",
			"position": [-1120, 576],
			"parameters": {
				"width": 512,
				"height": 1536,
				"content": "## 2️⃣ Set credentials\n\nIn HTTP nodes(DataAnalysis, DataInterpretation, and DataVisualization) select Authentication → Generic Credential Type\n![set_credentials_1.png](https://d1551jsgrpwivo.cloudfront.net/set_credentials_1.png)\n\nChoose Header Auth → Create new credential\n![set_credentials_2.png](https://d1551jsgrpwivo.cloudfront.net/set_credentials_2.png)\n\nName the header Authorization, which must be exactly 'Authorization', and fill in the previously applied API key\n![set_credentials_3.png](https://d1551jsgrpwivo.cloudfront.net/set_credentials_3.png)"
			},
			"typeVersion": 1
		},
		{
			"id": "5b476c0b-0421-413e-b204-e4fc78f3f2b1",
			"name": "Sticky Note5",
			"type": "n8n-nodes-base.stickyNote",
			"position": [-2240, 2944],
			"parameters": {
				"width": 1088,
				"height": 224,
				"content": "## Consult\nContact us for inquiries or feedback.\n\nemail: n8n-plugin@ada.im\n\n[Discord](https://discord.com/invite/Bwd6zGYThS)\n\nExplore [Ada](https://ada.im/home?ada_data_=&utm_source=n8n&utm_medium=landingpage&utm_infeluncer=landingpage&utm_campain=landingpage&utm_content=landingpage) : Your own AI Data Analyst."
			},
			"typeVersion": 1
		},
		{
			"id": "7d3fc1a9-161a-47d9-a58d-060b27035797",
			"name": "Sticky Note6",
			"type": "n8n-nodes-base.stickyNote",
			"position": [-2256, 576],
			"parameters": {
				"width": 1056,
				"height": 2336,
				"content": "## 1️⃣ Apply for an API Key\nYou can easily create and manage your API Key in the [ADA official website](https://ada.im/home?ada_data_=&utm_source=n8n&utm_medium=landingpage&utm_infeluncer=landingpage&utm_campain=landingpage&utm_content=landingpage) - API. To begin with, You need to register for an ADA account.\n\nOnce on the homepage, click the bottom left corner to access the API management dashboard.\n\n![apply_apikey_1.png](https://d1551jsgrpwivo.cloudfront.net/apply_apikey_1.png)\n\nHere, you can create new APIs and set the credit consumption limit for each API. A single account can create up to 10 APIs.\n\n![apply_apikey_2.png](https://d1551jsgrpwivo.cloudfront.net/apply_apikey_2.png)\n\nAfter successful creation, you can copy the API Key to set credentials. You can also view the credit consumption of each API and manage your APIs.\n\n![apply_apikey_3.png](https://d1551jsgrpwivo.cloudfront.net/apply_apikey_3.png)\n### **Credit Rules:**\n\n- Calling a single tool consumes 20 credits.\n- You will get 500 free credits per month for ADA Free account,  with each batch of credits valid for three months.\n- When credits run out, you can purchase more or upgrade your account on the ADA Billing page. Each batch of purchased credits is valid for three months. Expiration dates and billing details are available on the [ADA website-Billing](https://ada.im/udsl/#/system/billing).\n![apply_apikey_4.png](https://d1551jsgrpwivo.cloudfront.net/apply_apikey_4.png)"
			},
			"typeVersion": 1
		},
		{
			"id": "48c2a3d7-8e19-4aa5-8cba-1a7c5eb02245",
			"name": "Start",
			"type": "n8n-nodes-base.manualTrigger",
			"position": [-400, 672],
			"parameters": {},
			"typeVersion": 1
		},
		{
			"id": "dba9567a-a7de-49a7-96ce-e2a1703046b4",
			"name": "Get data from database",
			"type": "n8n-nodes-base.mySql",
			"position": [32, 864],
			"parameters": {
				"query": "select * from orders limit 100",
				"options": {},
				"operation": "executeQuery"
			},
			"typeVersion": 2.5
		},
		{
			"id": "8c20ec24-64bc-422c-8c8a-ee76d3af6acb",
			"name": "Process Data",
			"type": "n8n-nodes-base.aggregate",
			"position": [368, 672],
			"parameters": {
				"options": {},
				"aggregate": "aggregateAllItemData"
			},
			"typeVersion": 1
		},
		{
			"id": "4d9a4942-d1b5-47cb-a487-f2ba83ff05ed",
			"name": "Get data from Google Sheets",
			"type": "n8n-nodes-base.googleSheets",
			"position": [32, 1056],
			"parameters": {
				"options": {},
				"sheetName": {
					"__rl": true,
					"mode": "list",
					"value": 332281959,
					"cachedResultUrl": "https://docs.google.com/spreadsheets/d/1IhUFreWCZFLAUaCP9ELBnvakg1xSs4CgqnSnMvgkGmM/edit#gid=332281959",
					"cachedResultName": "Sheet1"
				},
				"documentId": {
					"__rl": true,
					"mode": "list",
					"value": "1IhUFreWCZFLAUaCP9ELBnvakg1xSs4CgqnSnMvgkGmM",
					"cachedResultUrl": "https://docs.google.com/spreadsheets/d/1IhUFreWCZFLAUaCP9ELBnvakg1xSs4CgqnSnMvgkGmM/edit?usp=drivesdk",
					"cachedResultName": "example_data"
				}
			},
			"credentials": {
				"googleSheetsOAuth2Api": {
					"id": "credential-id",
					"name": "googleSheetsOAuth2Api Credential"
				}
			},
			"typeVersion": 4.7
		},
		{
			"id": "05495c74-f92f-42e4-b239-86117e027ba6",
			"name": "Get data from local file",
			"type": "n8n-nodes-base.readWriteFile",
			"position": [-48, 1248],
			"parameters": {
				"options": {
					"dataPropertyName": "input_file"
				}
			},
			"typeVersion": 1
		},
		{
			"id": "e897fdef-13f5-413c-a2d3-e65e9e947c7b",
			"name": "Extract JSON from xlsx file",
			"type": "n8n-nodes-base.extractFromFile",
			"position": [144, 1248],
			"parameters": {
				"options": {},
				"operation": "xlsx",
				"binaryPropertyName": "input_file"
			},
			"typeVersion": 1
		},
		{
			"id": "bac09d2b-05ea-4e4e-9f72-9db8b23ded15",
			"name": "DataAnalysis",
			"type": "n8n-nodes-base.httpRequest",
			"position": [592, 672],
			"parameters": {
				"url": "https://ada.im/api/platform_api/PythonDataAnalysis",
				"method": "POST",
				"options": {},
				"sendBody": true,
				"authentication": "genericCredentialType",
				"bodyParameters": {
					"parameters": [
						{
							"name": "input_json",
							"value": "={{$json.data}}"
						},
						{
							"name": "query",
							"value": "What are the top three products in terms of sales in 2024? Analyze the gap between the top three products and the others from a statistical perspective."
						},
						{
							"name": "platform",
							"value": "n8n"
						}
					]
				},
				"genericAuthType": "httpHeaderAuth"
			},
			"typeVersion": 4.2
		},
		{
			"id": "ec1c771c-060f-4f5f-bfcb-429ea1a2d32d",
			"name": "DataInterpretation",
			"type": "n8n-nodes-base.httpRequest",
			"position": [592, 848],
			"parameters": {
				"url": "https://ada.im/api/platform_api/DataInterpretation",
				"method": "POST",
				"options": {},
				"sendBody": true,
				"authentication": "genericCredentialType",
				"bodyParameters": {
					"parameters": [
						{
							"name": "input_json",
							"value": "={{$json.data}}"
						},
						{
							"name": "query",
							"value": "Sales volume of each product in 2024"
						},
						{
							"name": "platform",
							"value": "n8n"
						}
					]
				},
				"genericAuthType": "httpHeaderAuth"
			},
			"typeVersion": 4.2
		},
		{
			"id": "fecfaf24-9059-430f-9ca4-0a346795f574",
			"name": "DataVisualization",
			"type": "n8n-nodes-base.httpRequest",
			"position": [592, 1024],
			"parameters": {
				"url": "https://ada.im/api/platform_api/EchartsVisualization",
				"method": "POST",
				"options": {},
				"sendBody": true,
				"authentication": "genericCredentialType",
				"bodyParameters": {
					"parameters": [
						{
							"name": "input_json",
							"value": "={{$json.data}}"
						},
						{
							"name": "query",
							"value": "Use a pie chart to display the sales of each product in 2024, and a line chart to represent the total monthly sales of each product in 2024. Additionally, you can add some extra charts based on the data."
						},
						{
							"name": "platform",
							"value": "n8n"
						}
					]
				},
				"genericAuthType": "httpHeaderAuth"
			},
			"credentials": {},
			"typeVersion": 4.2
		},
		{
			"id": "414955a1-b38e-4c5d-8ec0-30784e577fae",
			"name": "Convert to HTML File",
			"type": "n8n-nodes-base.convertToFile",
			"position": [1008, 1024],
			"parameters": {
				"options": {
					"fileName": "chart.html"
				},
				"operation": "toText",
				"sourceProperty": "html",
				"binaryPropertyName": "chart"
			},
			"typeVersion": 1.1
		},
		{
			"id": "f44342a9-5cee-48b3-8d01-c112cf985889",
			"name": "Convert markdown to HTML",
			"type": "n8n-nodes-base.markdown",
			"position": [1008, 672],
			"parameters": {
				"mode": "markdownToHtml",
				"options": {
					"tables": true,
					"simpleLineBreaks": true,
					"completeHTMLDocument": false
				},
				"markdown": "={{ $json.data.parseJson().data }}",
				"destinationKey": "html"
			},
			"typeVersion": 1
		},
		{
			"id": "e76a84a7-f3b5-41e1-8305-7452b307f64b",
			"name": "Convert markdown to HTML 2",
			"type": "n8n-nodes-base.markdown",
			"position": [1008, 848],
			"parameters": {
				"mode": "markdownToHtml",
				"options": {
					"tables": true,
					"simpleLineBreaks": true,
					"completeHTMLDocument": false
				},
				"markdown": "={{ $json.data.parseJson().data }}",
				"destinationKey": "html"
			},
			"typeVersion": 1
		},
		{
			"id": "4696a7f0-d343-41a1-9970-ac2b2ace165e",
			"name": "Sticky Note7",
			"type": "n8n-nodes-base.stickyNote",
			"position": [-1120, 2160],
			"parameters": {
				"width": 512,
				"height": 1168,
				"content": "## 3️⃣ Try out the skills\nSelect the data source and fill in the query parameters for the DataAnalysis, DataInterpretation, and DataVisualization nodes.\n![skills.png](https://d1551jsgrpwivo.cloudfront.net/set_credentials_4.png)"
			},
			"typeVersion": 1
		},
		{
			"id": "0a2f2313-ea14-4952-bfeb-4a8a62ce418b",
			"name": "Send DataAnalysis message",
			"type": "n8n-nodes-base.gmail",
			"position": [1488, 672],
			"webhookId": "6634ed2d-552c-4bf6-a7f2-bbdee8d61df4",
			"parameters": {
				"message": "={{ $json.html }}",
				"options": {},
				"subject": "n8n-email"
			},
			"credentials": {
				"gmailOAuth2": {
					"id": "credential-id",
					"name": "gmailOAuth2 Credential"
				}
			},
			"typeVersion": 2.1
		},
		{
			"id": "a182dfc4-4136-4c3e-8594-8525f436c62e",
			"name": "Send DataInterpretation message",
			"type": "n8n-nodes-base.gmail",
			"position": [1488, 848],
			"webhookId": "6634ed2d-552c-4bf6-a7f2-bbdee8d61df4",
			"parameters": {
				"message": "={{ $json.html }}",
				"options": {},
				"subject": "n8ntest"
			},
			"credentials": {
				"gmailOAuth2": {
					"id": "credential-id",
					"name": "gmailOAuth2 Credential"
				}
			},
			"typeVersion": 2.1
		},
		{
			"id": "ea24e9e8-ad8f-4e80-ba21-5e1d6f76a9ab",
			"name": "Send DataVisualization",
			"type": "n8n-nodes-base.gmail",
			"position": [1488, 1024],
			"webhookId": "6634ed2d-552c-4bf6-a7f2-bbdee8d61df4",
			"parameters": {
				"message": "From n8n, please use a browser to open the HTML file in the attachment",
				"options": {
					"attachmentsUi": {
						"attachmentsBinary": [
							{
								"property": "=chart"
							}
						]
					}
				},
				"subject": "n8ntest",
				"emailType": "text"
			},
			"credentials": {
				"gmailOAuth2": {
					"id": "credential-id",
					"name": "gmailOAuth2 Credential"
				}
			},
			"typeVersion": 2.1
		},
		{
			"id": "eb402e49-c3d8-4507-aace-b80c79a3fa9a",
			"name": "Sample Data",
			"type": "n8n-nodes-base.code",
			"position": [32, 672],
			"parameters": {
				"jsCode": "const categories = [\n  'Electronics',\n  'Clothing & Fashion',\n  'Home & Furniture',\n  'Food & Beverages',\n  'Sports & Outdoors',\n  'Beauty & Personal Care'\n];\nconst regions = [\n  'North America',\n  'South America',\n  'Europe',\n  'Asia',\n  'Africa',\n  'Oceania',\n  'Middle East',\n  'Central Asia'\n];\n\nfunction randomDateWithin730Days() {\n  const now = new Date();\n  const daysAgo = Math.floor(Math.random() * 730);\n  now.setDate(now.getDate() - daysAgo);\n  return now.toISOString().slice(0, 10);\n}\n\nlet items = [];\nfor (let i = 0; i < 1000; i++) {\n  items.push({\n    json: {\n      order_date: randomDateWithin730Days(),\n      product_category: categories[Math.floor(Math.random() * categories.length)],\n      region: regions[Math.floor(Math.random() * regions.length)],\n      sales_amount: (50 + Math.random() * 49950).toFixed(2)\n    }\n  });\n}\nreturn items;"
			},
			"typeVersion": 2
		},
		{
			"id": "0ce0f4a8-0773-4b47-a049-80ed2b0eeb0d",
			"name": "Process Visualization Data",
			"type": "n8n-nodes-base.set",
			"position": [800, 1024],
			"parameters": {
				"options": {},
				"assignments": {
					"assignments": [
						{
							"id": "ab328d59-6af7-4084-9c75-a7b5c5673168",
							"name": "html",
							"type": "string",
							"value": "={{ JSON.parse($json.data).data }}"
						}
					]
				}
			},
			"typeVersion": 3.4
		}
	],
	"pinData": {},
	"connections": {
		"Start": {
			"main": [
				[
					{
						"node": "Sample Data",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Sample Data": {
			"main": [
				[
					{
						"node": "Process Data",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"DataAnalysis": {
			"main": [
				[
					{
						"node": "Convert markdown to HTML",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Process Data": {
			"main": [
				[
					{
						"node": "DataVisualization",
						"type": "main",
						"index": 0
					},
					{
						"node": "DataAnalysis",
						"type": "main",
						"index": 0
					},
					{
						"node": "DataInterpretation",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"DataVisualization": {
			"main": [
				[
					{
						"node": "Process Visualization Data",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"DataInterpretation": {
			"main": [
				[
					{
						"node": "Convert markdown to HTML 2",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Convert to HTML File": {
			"main": [
				[
					{
						"node": "Send DataVisualization",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Get data from database": {
			"main": [
				[
					{
						"node": "Process Data",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Convert markdown to HTML": {
			"main": [
				[
					{
						"node": "Send DataAnalysis message",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Get data from local file": {
			"main": [
				[
					{
						"node": "Extract JSON from xlsx file",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Convert markdown to HTML 2": {
			"main": [
				[
					{
						"node": "Send DataInterpretation message",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Process Visualization Data": {
			"main": [
				[
					{
						"node": "Convert to HTML File",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Extract JSON from xlsx file": {
			"main": [
				[
					{
						"node": "Process Data",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Get data from Google Sheets": {
			"main": [
				[
					{
						"node": "Process Data",
						"type": "main",
						"index": 0
					}
				]
			]
		}
	}
}
