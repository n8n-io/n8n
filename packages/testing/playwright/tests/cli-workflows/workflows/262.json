{
	"createdAt": "2025-09-08T10:32:07.628Z",
	"updatedAt": "2025-09-08T10:32:07.628Z",
	"name": "Node as Tool, multiple invocations",
	"id": "262",
	"active": false,
	"nodes": [
		{
			"parameters": {},
			"type": "n8n-nodes-base.manualTrigger",
			"typeVersion": 1,
			"position": [-416, 160],
			"id": "07aeb8f2-0a26-4139-8aa8-705371b41022",
			"name": "When clicking ‘Test workflow’"
		},
		{
			"parameters": {
				"jsCode": "const result = [\n  'n8n',\n  'make',\n  'zappier',\n  'workato'\n].map(i => ({ json: {name: i}}))\n\nreturn result;"
			},
			"type": "n8n-nodes-base.code",
			"typeVersion": 2,
			"position": [-240, 160],
			"id": "474f08ba-5246-4e8f-ad15-5dc274ff853a",
			"name": "Code"
		},
		{
			"parameters": {
				"aggregate": "aggregateAllItemData",
				"options": {}
			},
			"type": "n8n-nodes-base.aggregate",
			"typeVersion": 1,
			"position": [416, 192],
			"id": "0ca75f27-d5b1-4aba-ba38-68feca64f8fa",
			"name": "Aggregate2"
		},
		{
			"parameters": {
				"promptType": "define",
				"text": "=Search HackerNews for following: {{ $json.data.map(i => i.name).join(', ') }}",
				"options": {}
			},
			"type": "@n8n/n8n-nodes-langchain.agent",
			"typeVersion": 2.2,
			"position": [640, 192],
			"id": "5798b01b-cdc6-4366-8478-72f81a141259",
			"name": "AI Agent5"
		},
		{
			"parameters": {
				"model": {
					"__rl": true,
					"value": "gpt-4.1-nano",
					"mode": "list",
					"cachedResultName": "gpt-4.1-nano"
				},
				"options": {}
			},
			"type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
			"typeVersion": 1.2,
			"position": [592, 368],
			"credentials": {
				"openAiApi": {
					"id": "Zak03cqeLUOsgkFI",
					"name": "OpenAi account"
				}
			},
			"id": "573ffe0c-0b67-406b-bb55-f11007093a58",
			"name": "OpenAI Chat Model5"
		},
		{
			"parameters": {
				"resource": "all",
				"limit": 1,
				"additionalFields": {
					"keyword": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Keyword', ``, 'string') }}"
				}
			},
			"type": "n8n-nodes-base.hackerNewsTool",
			"typeVersion": 1,
			"position": [864, 368],
			"id": "38a26568-f181-4c40-a1bb-09ae5822c7cb",
			"name": "Hacker News4"
		},
		{
			"parameters": {
				"batchSize": 2,
				"options": {}
			},
			"type": "n8n-nodes-base.splitInBatches",
			"typeVersion": 3,
			"position": [192, 160],
			"id": "857b6997-db66-499d-8d0e-1bad134a6ece",
			"name": "Loop Over Items1"
		}
	],
	"pinData": {},
	"connections": {
		"When clicking ‘Test workflow’": {
			"main": [
				[
					{
						"node": "Code",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Code": {
			"main": [
				[
					{
						"node": "Loop Over Items1",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"Aggregate2": {
			"main": [
				[
					{
						"node": "AI Agent5",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"AI Agent5": {
			"main": [
				[
					{
						"node": "Loop Over Items1",
						"type": "main",
						"index": 0
					}
				]
			]
		},
		"OpenAI Chat Model5": {
			"ai_languageModel": [
				[
					{
						"node": "AI Agent5",
						"type": "ai_languageModel",
						"index": 0
					}
				]
			]
		},
		"Hacker News4": {
			"ai_tool": [
				[
					{
						"node": "AI Agent5",
						"type": "ai_tool",
						"index": 0
					}
				]
			]
		},
		"Loop Over Items1": {
			"main": [
				[],
				[
					{
						"node": "Aggregate2",
						"type": "main",
						"index": 0
					}
				]
			]
		}
	},
	"settings": null,
	"versionId": null,
	"meta": null,
	"tags": []
}
